<Window
    x:Class="TaskCapture.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:TaskCapture"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    Title="TaskCapture"
    Width="580"
    Height="420"
    mc:Ignorable="d">
  <Grid Margin="12">
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="Auto"/>
      <RowDefinition Height="*"/>
    </Grid.RowDefinitions>

    <!-- Панель 1: две кнопки -->
    <StackPanel Orientation="Horizontal">
      <!-- имитируем Spacing=8 -->
      <StackPanel.Resources>
        <Style TargetType="FrameworkElement">
          <Setter Property="Margin" Value="0,0,8,0"/>
        </Style>
      </StackPanel.Resources>

      <Button x:Name="BtnPickActive" Content="Использовать активное окно"
              Width="220" Click="BtnPickActive_Click"/>
      <Button x:Name="BtnPickCursor" Content="Выбрать под курсором (3с)"
              Width="220" Click="BtnPickCursor_Click"/>
    </StackPanel>

    <!-- Панель 2: поля и кнопка запуска -->
    <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="0,12,0,0">
      <!-- имитируем Spacing=12 -->
      <StackPanel.Resources>
        <Style TargetType="FrameworkElement">
          <Setter Property="Margin" Value="0,0,12,0"/>
        </Style>
      </StackPanel.Resources>

      <TextBlock Text="HWND:" VerticalAlignment="Center"/>
      <TextBlock x:Name="LblHwnd" FontWeight="Bold" VerticalAlignment="Center"/>
      <TextBlock Text=" | Панели (доли):" VerticalAlignment="Center"/>
      <TextBox x:Name="TbLeft" Width="60" Text="0.5"/>
      <TextBox x:Name="TbRight" Width="60" Text="0.5"/>
      <Button x:Name="BtnRun" Content="Снять и прокрутить" Width="180" Click="BtnRun_Click"/>
    </StackPanel>

    <TextBox Grid.Row="2" x:Name="Log" Margin="0,12,0,0"
             AcceptsReturn="True" VerticalScrollBarVisibility="Auto"/>
  </Grid>
</Window>
